{
  "id": "bridge",
  "version": "1.1.0",
  "name": "Bridge Tunnel Client",
  "description": "Connects to the bridge server running on a Vercel Sandbox to forward inbound requests to local applications and intercept outbound traffic via iptables.",
  "entrypoint": "/usr/local/bin/bridge-entrypoint.sh",
  "options": {
    "sandboxUrl": {
      "type": "string",
      "description": "URL of the bridge server running on the Vercel Sandbox (e.g., https://sandbox-abc123.vercel.run)",
      "default": ""
    },
    "functionUrl": {
      "type": "string",
      "description": "URL of the dispatcher function (required for tunnel registration)",
      "default": ""
    },
    "sandboxName": {
      "type": "string",
      "description": "Name for the sandbox (used for SSH config alias)",
      "default": ""
    },
    "syncSource": {
      "type": "string",
      "description": "Local directory to sync from ",
      "default": "."
    },
    "syncTarget": {
      "type": "string",
      "description": "Remote directory on sandbox to sync to",
      "default": ""
    },
    "bridgeVersion": {
      "type": "string",
      "description": "Version of bridge CLI to install (e.g., 'v1.0.0' or 'edge')",
      "default": "edge"
    }
  },
  "containerEnv": {
    "SANDBOX_URL": "${sandboxUrl}",
    "FUNCTION_URL": "${functionUrl}",
    "SANDBOX_NAME": "${sandboxName}",
    "SYNC_SOURCE": "${syncSource}",
    "SYNC_TARGET": "${syncTarget}"
  },
  "capAdd": [
    "NET_ADMIN"
  ],
  "installsAfter": [
    "ghcr.io/devcontainers/features/common-utils"
  ]
}
